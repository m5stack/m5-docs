# SERVO ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« {docsify-ignore-all}

<img src="assets/img/product_pics/module/module_servo_01.png" width="30%" height="30%"> <img src="assets/img/product_pics/module/module_servo_02.png" width="30%" height="30%"> <img src="assets/img/product_pics/module/module_servo_03.png" width="30%" height="30%">

***

:memo:**[æ¦‚è¦](#æ¦‚è¦)**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:octocat:**[ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰](#ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰)**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:electric_plug:**[å›è·¯å›³](#å›è·¯å›³)**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ğŸ›’**[è³¼å…¥ãƒªãƒ³ã‚¯](https://www.aliexpress.com/item/M5Stack-New-SERVO-Module-Board-12-Channels-Servo-Controller-with-MEGA328-Inside-Power-Adapter-6-24V/32951356502.html)**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:clapper:**[é–¢é€£å‹•ç”»](#é–¢é€£å‹•ç”»)**

## æ¦‚è¦

**<mark>SERVO</mark>** ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ã€12WAYã®ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ã‚’åŒæ™‚ã«é§†å‹•ã§ãã‚‹ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ãƒ‰ãƒ©ã‚¤ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã™ã€‚(ç¾åœ¨ã€æœ€å¤§é›»æµã®åˆ¶é™ã«ã‚ˆã‚Šã€é§†å‹•ã§ãã‚‹ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ã®æœ€å¤§æ•°ã¯9ã§ã™ã€‚ã™ãã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ç‰ˆã‚’å…¬é–‹ã—ã¾ã™ã€‚ï¼‰

ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã™ã‚‹ã®ã¯ã¨ã¦ã‚‚ç°¡å˜ã§ã™ã€‚Arduino IDEã§2ã€œ3è¡Œã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã‹ã€UIFlowã§2-3ãƒ–ãƒ­ãƒƒã‚¯ã‚’ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹ã ã‘ã§ã€ä¸€åº¦ã«å¤šãã®ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿ã‚’é§†å‹•ã§ãã¾ã™ã€‚

ã‚µãƒ¼ãƒœã¯GROVEã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆI2Cï¼‰ã‚’ä»‹ã—ã¦M5Coreã¨é€šä¿¡ã—ã¾ã™ã€‚ I2Cã‚¢ãƒ‰ãƒ¬ã‚¹ã¯<mark>0x53</mark>ã§ã™ã€‚

## ç‰¹å¾´

- 12ã‚µãƒ¼ãƒœãƒ¢ãƒ¼ã‚¿åŒæ™‚é§†å‹•å¯èƒ½
- é›»æºç¯„å›²ï¼š6-12V
- [Arduino](http://www.arduino.cc/), [UIFlow](http://flow.m5stack.com/)ã‚’ã‚µãƒãƒ¼ãƒˆ

## ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…å®¹

- 1x SERVO ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- 1x 6-12V é›»æºã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

## ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

- ãƒ’ãƒ¥ãƒ¼ãƒãƒã‚¤ãƒ‰ãƒ­ãƒœãƒƒãƒˆ
- ãƒã‚¤ã‚ªãƒ‹ãƒƒã‚¯å¤šé–¢ç¯€ãƒ­ãƒœãƒƒãƒˆ
- ã‚«ãƒ¡ãƒ©ç”¨3è»¸ãƒ˜ãƒƒãƒ‰

## é–¢é€£ãƒªãƒ³ã‚¯

- **[å…¬å¼ãƒ“ãƒ‡ã‚ª](https://www.youtube.com/channel/UCozgFVglWYQXbvTmGyS739w)**

- **[ãƒ•ã‚©ãƒ¼ãƒ©ãƒ ](http://forum.m5stack.com/)**

- **[ATmega328pãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢](https://github.com/m5stack/M5-ProductExampleCodes/tree/master/Module/SERVO/firmware_328p)**

## ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

### 1. Arduino IDE

*å®Œå…¨ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯[ã“ã¡ã‚‰](https://github.com/m5stack/M5-ProductExampleCodes/tree/master/Module/SERVO/Arduino)ã€‚*

```arduino
#include <Arduino.h>
#include <M5Stack.h>
#include <Wire.h>

#define SERVO_ADDR 0x53
void setup() {
    M5.begin(true, false, true);
    M5.Lcd.setTextFont(4);
    M5.Lcd.setCursor(70, 100);
    M5.Lcd.print("Servo Example");

    Wire.begin(21, 22, 100000);
}

// addr 0x01 means "control the number 1 servo by us"
void Servo_write_us(uint8_t number, uint16_t us) {
    Wire.beginTransmission(SERVO_ADDR);
    Wire.write(0x00 | number);
    Wire.write(us & 0x00ff);
    Wire.write(us >> 8 & 0x00ff);
    Wire.endTransmission();
}

// addr 0x11 means "control the number 1 servo by angle"
void Servo_write_angle(uint8_t number, uint8_t angle) {
    Wire.beginTransmission(SERVO_ADDR);
    Wire.write(0x10 | number);
    Wire.write(angle);
    Wire.endTransmission();
}

void loop() {
    for(uint8_t i = 0; i < 12; i++){
        Servo_write_us(i, 700);
        // Servo_write_angle(i, 0);
    }
    delay(1000);
    for(uint8_t i = 0; i < 12; i++){
        Servo_write_us(i, 2300);
        // Servo_write_angle(i, 180);
    }
    delay(1000);
}
```

### 2. UIFlow

*å®Œå…¨ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯[ã“ã¡ã‚‰](https://github.com/m5stack/M5-ProductExampleCodes/tree/master/Module/SERVO/UIFlow)ã€‚*

<img src="assets/img/product_pics/module/module_example/SERVO/example_module_servo_01.png">

## å›è·¯å›³

<img src="assets/img/product_pics/module/servo_sch.png">

## é–¢é€£å‹•ç”»

**SERVO ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«**

<iframe width="560" height="315" src="https://m5stack.oss-cn-shenzhen.aliyuncs.com/video/%E6%95%99%E7%A8%8B/Servo/E4%20-%20Servo%20Demo(UIFlow%20Tutorials%205).mp4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

**SERVO ã‚±ãƒ¼ã‚¹**

<iframe width="560" height="315" src='https://m5stack.oss-cn-shenzhen.aliyuncs.com/video/Blog/Twitch201901/M5stack%20Servo.mp4' frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>