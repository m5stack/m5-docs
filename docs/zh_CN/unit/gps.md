# Unit GPS {docsify-ignore-all}

<img src="assets/img/product_pics/unit/unit_gps_01.png" width="30%" height="30%"><img src="assets/img/product_pics/unit/unit_gps_02.png" width="30%" height="30%">

***

:memo:**[æè¿°](#æè¿°)**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:octocat:**[ä¾‹ç¨‹](#ä¾‹ç¨‹)**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:electric_plug:**[åŸç†å›¾](#åŸç†å›¾)**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ğŸ›’**[è´­ä¹°é“¾æ¥](https://m5stack.com/collections/m5-unit/products/mini-gps-bds-unit)**&nbsp;&nbsp;&nbsp;<img src="https://m5stack.oss-cn-shenzhen.aliyuncs.com/image/EasyLoader_logo-min.jpg">**[EasyLoader](#EasyLoader)**

## æè¿°

**GPS** æ˜¯ä¸€æ¬¾å«æ˜Ÿå®šä½ Unit . å†…éƒ¨é›†æˆç§‘å¾®åŒ—æ–—å¯¼èˆªèŠ¯ç‰‡ AT6558 å’Œä¿¡å·æ”¾å¤§èŠ¯ç‰‡ MAX2659,èƒ½å¤Ÿæä¾›ä¼˜è´¨çš„å«æ˜Ÿå®šä½æœåŠ¡.


**AT6558** æ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„å¯¼èˆªèŠ¯ç‰‡,æ”¯æŒå¤šç§å«æ˜Ÿå¯¼èˆªç³»ç»Ÿï¼Œä»¥ 56 é€šé“æ¥æ”¶å«æ˜Ÿä¿¡å·ï¼ŒåŒæ—¶æ¥æ”¶6ä¸ªå«æ˜Ÿå¯¼èˆªç³»ç»Ÿçš„ GNSS ä¿¡å·ï¼Œå¹¶ä¸”å®ç°è”åˆå®šä½ã€å¯¼èˆªå’Œæˆæ—¶ï¼Œè·å¾—å‡†ç¡®çš„å…¨çƒä½ç½®ä¿¡æ¯.AT6558 èƒ½å¤Ÿåœ¨åŸå¸‚ã€å³¡è°·ã€é«˜æ¶ä¸‹é¢ç­‰å¼±ä¿¡å·çš„åœ°æ–¹ï¼Œä»¥åŠæ±½è½¦å†…éƒ¨ä»»ä½•ä½ç½®å¯ä»¥å¿«é€Ÿã€å‡†ç¡®åœ°å®šä½.æ­¤æ¨¡å—å¯å¹¿æ³›ç”¨äºè½¦è½½ç›‘æ§ã€å…¬äº¤è½¦æŠ¥ç«™ã€è½¦è½½å¯¼èˆªã€èˆ¹è½½å¯¼èˆªã€ç¬”è®°æœ¬å¯¼èˆªç­‰äº§å“ä¸Š.

**ä½¿ç”¨æ—¶ï¼Œè¯·å°†è¯¥ Unit è¿æ¥åˆ° PORT C ï¼Œå®ƒå°†é€šè¿‡UARTåè®®ä¸M5Coreè¿›è¡Œé€šä¿¡**

UART å‚æ•°è®¾ç½®:
- æ³¢ç‰¹ç‡(**é»˜è®¤: 9600bps**)
- èµ·å§‹ä½(1 bit)
- åœæ­¢ä½(1 bit)
- æ ¡éªŒä½(æ— )

## äº§å“ç‰¹æ€§

- åŠŸèƒ½
  - å®šä½ç²¾åº¦ï¼š2.5ç±³ï¼ˆCEP50ï¼Œç©ºæ—·åœ°åŒºï¼‰
  - é€šé“: 56
  - æ”¯æŒBDS / GPS / GLONASSå«æ˜Ÿå¯¼èˆªç³»ç»Ÿçš„å•ç³»ç»Ÿå®šä½ï¼Œæˆ–ä»»æ„ç»„åˆçš„å¤šç³»ç»Ÿè”åˆå®šä½
  - æ”¯æŒ D-GNSS å·®åˆ†å®šä½
  - å®šä½æ›´æ–°é¢‘ç‡: 1-10Hz
  - æœ€å¤§é«˜åº¦: 1800 m
  - æœ€å¤§é€Ÿåº¦: 515 m/s
  - æœ€å¤§åŠ é€Ÿåº¦: <= 4 G
- ä½åŠŸè€—
  - BDS/GPS åŒæ¨¡è¿ç»­æ“ä½œ: <23mA (@3.3V)
  - å¾…æœº: <10uA (@3.3V)
- çµæ•åº¦
  - è·Ÿè¸ª: -162dBm
  - æ•æ‰: -148dBm
  - å†·å¯åŠ¨: -146dBm
- å¯åŠ¨æ—¶é—´
  - å†·å¯åŠ¨: 35 seconds
  - æ¸©å¯åŠ¨: 32 seconds
  - çƒ­å¯åŠ¨: 1 second
- å·¥ä½œæ¸©åº¦: -40~85Â°C
- 2x LEGO å…¼å®¹å­”

## åŒ…å«

- 1x GPS Unit
- 1x Grove çº¿

## åº”ç”¨

- è½¦è½½ã€èˆ¹è½½å®šä½ä¸å¯¼èˆª
- æ™ºèƒ½æ‰§æ³•å®šä½

## ç›¸å…³é“¾æ¥

- **æ•°æ®æ‰‹å†Œ** - [AT6558](https://m5stack.oss-cn-shenzhen.aliyuncs.com/resource/docs/datasheet/unit/AT6558_en.pdf) - [MAX2659](https://m5stack.oss-cn-shenzhen.aliyuncs.com/resource/docs/datasheet/unit/MAX2659_en.pdf)

- **[TinyGPS++ library](http://arduiniana.org/libraries/tinygpsplus/)**

- **[CASIC å¤šæ¨¡å«æ˜Ÿå¯¼èˆªæ¥æ”¶æœºåè®®è§„èŒƒ](https://m5stack.oss-cn-shenzhen.aliyuncs.com/resource/docs/datasheet/unit/Multimode_satellite_navigation_receiver_cn.pdf)**

- **[ä¸Šä½æœºè½¯ä»¶ GnssToolKit3(Windows Version)](http://www.icofchina.com/d/file/xiazai/2018-05-23/2b29a8da746eec0ef1dcd9deae895298.zip)**


## EasyLoader

<img src="https://m5stack.oss-cn-shenzhen.aliyuncs.com/image/EasyLoader_logo.png" width="100px" style="margin-top:20px">

<a href="https://m5stack.oss-cn-shenzhen.aliyuncs.com/EasyLoader/Unit/EasyLoader_GPSRaw.exe"><button type="button" class="btn btn-primary">ç‚¹å‡»ä¸‹è½½EasyLoader</button></a>

>1.EasyLoaderæ˜¯ä¸€ä¸ªç®€æ´å¿«é€Ÿçš„ç¨‹åºçƒ§å½•å™¨ï¼Œæ¯ä¸€ä¸ªäº§å“é¡µé¢é‡Œçš„EasyLoaderéƒ½æä¾›äº†ä¸€ä¸ªä¸äº§å“ç›¸å…³çš„æ¡ˆä¾‹ç¨‹åºï¼Œé€šè¿‡ç®€å•æ­¥éª¤å°†å…¶çƒ§å½•è‡³ä¸»æ§ï¼Œèƒ½å¤Ÿè¿›è¡Œä¸€ç³»åˆ—çš„åŠŸèƒ½éªŒè¯.

>2.ä¸‹è½½è½¯ä»¶åï¼ŒåŒå‡»è¿è¡Œåº”ç”¨ç¨‹åºï¼Œå°†M5è®¾å¤‡é€šè¿‡æ•°æ®çº¿è¿æ¥è‡³ç”µè„‘,é€‰æ‹©ç«¯å£å‚æ•°ï¼Œç‚¹å‡» **"Burn"** å³å¯å¼€å§‹çƒ§å½•.(**ä¸ºM5StickCçƒ§å½•æ—¶ï¼Œè¯·å°†æ³¢ç‰¹ç‡è®¾ç½®åœ¨750000æˆ–115200**)

?>3.ç›®å‰EasyLoaderä»…é€‚ç”¨äºWindowsæ“ä½œç³»ç»Ÿã€å…¼å®¹M5ä½“ç³»é‡‡ç”¨ESP32ä½œä¸ºæ§åˆ¶æ ¸å¿ƒçš„ä¸»æœº.åœ¨ä¸ºM5Coreçƒ§å½•å‰éœ€è¦å®‰è£…CP210Xé©±åŠ¨ç¨‹åºï¼ˆä½¿ç”¨M5StickCä½œä¸ºæ§åˆ¶å™¨çš„åˆ™æ— éœ€å®‰è£…ï¼‰[ç‚¹å‡»æ­¤å¤„æŸ¥çœ‹é©±åŠ¨å®‰è£…æ•™ç¨‹](zh_CN/related_documents/M5Burner#å®‰è£…ä¸²å£é©±åŠ¨)

## ä¾‹ç¨‹

### 1. Arduino IDE

*ä»¥ä¸‹ä»£ç ä»…ä¸ºç‰‡æ®µï¼Œå¦‚éœ€è·å–å®Œæ•´ä»£ç ï¼Œ [è¯·ç‚¹å‡»æ­¤å¤„](https://github.com/m5stack/M5-ProductExampleCodes/tree/master/Unit/GPS/Arduino).*

```arduino
#include <M5Stack.h>

/* By default, GPS is connected with M5Core through UART2 */
HardwareSerial GPSRaw(2);

void setup() {
  M5.begin();
  GPSRaw.begin(9600);// GPS init
  Serial.println("hello");
  termInit();
}

void loop() {
  // put your main code here, to run repeatedly:
  if(Serial.available()) {
    int ch = Serial.read();
    GPSRaw.write(ch);
  }
  if(GPSRaw.available()) {
    int ch = GPSRaw.read();// read GPS information
    Serial.write(ch);
    termPutchar(ch);
  }
}
```

çƒ§å½•ä¾‹ç¨‹ GPSRaw.ino åï¼Œå½“è®¾å¤‡å¯åŠ¨æ—¶ï¼ŒM5Coreå±å¹•å’ŒPCç«¯ä¸²å£è°ƒè¯•å·¥å…·å°†ä¼šæ‰“å°æ˜¾ç¤ºå¦‚ä¸‹çš„ä¿¡æ¯.

```
$GNGGA,063012.000,2234.87140,N,11357.22414,E,1,06,4.2,7.3,M,0.0,M,,*7D
$GNGLL,2234.87140,N,11357.22414,E,063012.000,A,A*4C
$GPGSA,A,3,01,09,11,18,23,,,,,,,,6.3,4.2,4.7*32
$BDGSA,A,3,13,,,,,,,,,,,,6.3,4.2,4.7*21
$GPGSV,3,1,10,01,54,164,33,04,,,22,08,46,019,,09,23,230,24*40
$GPGSV,3,2,10,11,81,200,12,18,65,110,26,23,14,195,25,27,18,041,*78
$GPGSV,3,3,10,28,10,300,15,30,33,319,*7C
$BDGSV,1,1,01,13,43,195,29*5A
$GNRMC,063012.000,A,2234.87140,N,11357.22414,E,0.69,171.74,240419,,,A*7A
$GNVTG,171.74,T,,M,0.69,N,1.27,K,A*2C
$GNZDA,063012.000,24,04,2019,00,00*46
$GPTXT,01,01,01,ANTENNA OPEN*25
```

### 2. UIFlow

*å®Œæ•´ä»£ç ä¸‹è½½ [ç‚¹å‡»è¿™é‡Œ](https://github.com/m5stack/M5-ProductExampleCodes/tree/master/Unit/GPS).*

<img src="assets/img/product_pics/unit/gps/gps.png">

**åˆ†æï¼š**

**$GNRMC,063012.000,A,2234.87140,N,11357.22414,E,0.69,171.74,240419,,,A*7A**

è¡¨ç¤ºå®šä½ä¿¡æ¯ä¸ºï¼š
Â  UTCæ—¶é—´æ˜¯06 :30 :12ï¼ŒåŒ—çº¬22.58119Â°ï¼Œä¸œç»113ã€‚95357Â°ï¼Œ2019å¹´4æœˆ24æ—¥

<img src="assets/img/product_pics/unit/gps/unit_gps_06.png">

<img src="assets/img/product_pics/unit/gps/unit_gps_05.png">


## åŸç†å›¾

<img src="assets/img/product_pics/unit/gps_sch.png">

### ç®¡è„šæ˜ å°„

<table>
 <tr><td>M5Core(GROVE C)</td><td>U2RXD(GPIO16)</td><td>U2TXD(GPIO17)</td><td>5V</td><td>GND</td></tr>
 <tr><td>GPS Unit</td><td>Signal Transmitter (TXD)</td><td>Signal Receiver (RXD)</td><td>5V</td><td>GND</td></tr>
</table>
