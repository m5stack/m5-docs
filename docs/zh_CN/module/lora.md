# Module LORA {docsify-ignore-all}

<img src="assets/img/product_pics/module/module_lora_01.png" width="30%" height="30%"> <img src="assets/img/product_pics/module/module_lora_02.png" width="30%" height="30%"> <img src="assets/img/product_pics/module/module_lora_03.png" width="30%" height="30%">

***

:memo:**[æè¿°](#æè¿°)**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:octocat:**[ä¾‹ç¨‹](#ä¾‹ç¨‹)**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:electric_plug:**[åŸç†å›¾](#åŸç†å›¾)**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ğŸ›’**[è´­ä¹°é“¾æ¥](https://item.taobao.com/item.htm?spm=a1z10.5-c.w4002-1172588093.70.6c2275f4nUJEfh&id=559302217850)**

## æè¿°

**LoRa** æ˜¯M5Stackå †å æ¨¡å—ç³»åˆ—ä¸­çš„ä¸€æ¬¾ï¼ŒèŠ‚ç‚¹é€šä¿¡æ¨¡å—.è¯¥æ¨¡å—é›†æˆäº†ç”±Ai-Thinkerè®¾è®¡å’Œç”Ÿäº§çš„Ra-02æ¨¡ç»„ï¼Œæ¨¡å—ä¸Šä¿ç•™äº†ä¸€å®šçš„æ‹“å±•ç©ºé—´ï¼Œä»¥ä¾¿ä½ è¿›è¡Œæ›´å¤šçš„åŠŸèƒ½è®¾è®¡.æ— è®ºæ˜¯è¿›è¡ŒåŸºæœ¬çš„è¿œè·ç¦»é€šä¿¡æˆ–æ˜¯æœ‰ç€æ›´å¤šå®šåˆ¶åŒ–å…ƒç´ çš„é¡¹ç›®ï¼ŒLoRaæ¨¡å—éƒ½ä¼šæ˜¯åˆé€‚çš„é€‰æ‹©.

LoRaèƒ½å¤Ÿå®ç°ä½åŠŸè€—çš„è¿œè·ç¦»é€šä¿¡ï¼ˆåœ¨ä¹¡æ‘åœ°åŒºç­‰è¾ƒä¸ºç©ºæ—·çš„åœ°åŒºï¼Œé€šä¿¡è·ç¦»ç”šè‡³èƒ½å¤Ÿè¶…è¿‡10å…¬é‡Œï¼‰.è¯¥æŠ€æœ¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šLoRaç‰©ç†å±‚å’ŒLoRaWANï¼ˆé•¿è·ç¦»å¹¿åŸŸç½‘ï¼‰ä¸Šå±‚.

LoRaå’ŒLoRaWANå…è®¸ä¸ä¸åŒç±»å‹çš„ç‰©è”ç½‘ï¼ˆIoTï¼‰è®¾å¤‡ï¼Œè¿›è¡Œè¿œç¨‹è¿æ¥.

## äº§å“ç‰¹æ€§

-  LoRa æ¨¡å—: Ra-02 (by Ai-Thinker)
-  ä¸²è¡Œé€šä¿¡åè®®: SPI
-  ä¸‡èƒ½æ¿
-  å·¥ä½œé¢‘ç‡: 433 MHz
-  æ”¯æŒFSKï¼ŒGFSKï¼ŒMSKï¼ŒGMSKï¼ŒLoRaâ„¢å’ŒOOKè°ƒåˆ¶æ¨¡å¼
-  æ¥æ”¶çµæ•åº¦ï¼šä½è‡³-141 dBm
-  å¯ç¼–ç¨‹æ¯”ç‰¹ç‡é«˜è¾¾300Kbps
-  å†…ç½®PCBå¤©çº¿
-  å¤–éƒ¨å¤©çº¿æ¥å£
-  å¼€å‘å¹³å°: Arduino, Mrcropython, UIFlow(Blockly)

## åŒ…å«

-  1x M5Stack LoRa æ¨¡å—

## åº”ç”¨

-  è‡ªåŠ¨æŠ„è¡¨ç³»ç»Ÿ
-  æ¥¼å®‡è‡ªåŠ¨åŒ–
-  è¿œç¨‹çŒæº‰ç³»ç»Ÿ

## ç›¸å…³é“¾æ¥

- **[å®˜æ–¹é¢‘é“è§†é¢‘](https://i.youku.com/i/UNjE1ODA2MzE0OA==?spm=a2hzp.8253869.0.0)**

- **[å®˜æ–¹è®ºå›](http://forum.m5stack.com/)**

- **[LoRaæ¨¡å—ä¿¡æ¯](http://wiki.ai-thinker.com/lora) (LoRa)**

- **[LoRaWAN åŒºåŸŸå‚æ•°](https://lora-alliance.org/sites/default/files/2018-04/lorawantm_regional_parameters_v1.1rb_-_final.pdf)**

<!-- ?> å¦‚æœå †å äº†LoRaæ¨¡å—ä¹‹åï¼Œä¸Šç”µï¼Œå¯æ˜¯M5Coreä¸èƒ½æ­£å¸¸æ˜¾ç¤ºæˆ–è€…æœ‰å…¶ä»–æ˜¾ç¤ºé—®é¢˜æ—¶ï¼Œå»ºè®®åœ¨`m5.begin();`è¯­å¥ä¹‹å‰åŠ å…¥å¦‚ä¸‹è¯­å¥ã€‚å› ä¸ºGPIO5è¿æ¥åˆ°LoRaæ¨¡å—çš„NSSå¼•è„šï¼Œè¯¥å¼•è„šåœ¨ç³»ç»Ÿä¸Šç”µçš„æ—¶å€™éœ€è¦ä¸Šæ‹‰ï¼Œä»è€Œé¿å…LCDä¸èƒ½æ˜¾ç¤ºã€‚

```arduino
    pinMode(5,OUTPUT);
    digitalWrite(5,HIGH);
    m5.begin();
``` -->

## EasyLoader

>1.EasyLoaderæ˜¯ä¸€ä¸ªç®€æ´å¿«é€Ÿçš„ç¨‹åºçƒ§å½•å™¨ï¼Œæ¯ä¸€ä¸ªäº§å“é¡µé¢é‡Œçš„EasyLoaderéƒ½æä¾›äº†ä¸€ä¸ªä¸äº§å“ç›¸å…³çš„æ¡ˆä¾‹ç¨‹åº.
[ç‚¹å‡»æ­¤å¤„ä¸‹è½½](https://m5stack.oss-cn-shenzhen.aliyuncs.com/MiniBurner/Module/MiniBurner_LoRaReceiverCallback.exe)

>2.ä¸‹è½½è½¯ä»¶åï¼ŒåŒå‡»è¿è¡Œåº”ç”¨ç¨‹åºï¼Œå°†M5è®¾å¤‡é€šè¿‡æ•°æ®çº¿è¿æ¥è‡³ç”µè„‘,é€‰æ‹©ç«¯å£å‚æ•°ï¼Œç‚¹å‡» **"Burn"** å³å¯å¼€å§‹çƒ§å½•

!>3.EasyLoaderçƒ§å½•å‰éœ€è¦å®‰è£…æœ‰CP210Xï¼ˆUSBé©±åŠ¨ç¨‹åºï¼‰ï¼Œ[ç‚¹å‡»æ­¤å¤„æŸ¥çœ‹é©±åŠ¨å®‰è£…æ•™ç¨‹](zh_CN/related_documents/M5Burner#å®‰è£…ä¸²å£é©±åŠ¨)

## ä¾‹ç¨‹

### Arduino IDE

åœ¨æœ¬æ¡ˆä¾‹ä¸­ï¼Œå°†ä½¿ç”¨ä¸¤ä¸ªLoRaæ¨¡å—åˆ†åˆ«è¿›è¡Œå‘é€ä¸æ¥æ”¶æ¶ˆæ¯.å®ç°ç‚¹å¯¹ç‚¹çš„é€šä¿¡åŠŸèƒ½.

* è“è‰²å­—ç¬¦ä¸²è¡¨ç¤ºå‘é€æˆåŠŸ.

* é»„è‰²å­—ç¬¦ä¸²æ˜¾ç¤ºæ”¶åˆ°çš„æ¶ˆæ¯.

* çº¢è‰²å­—ç¬¦ä¸²è¡¨ç¤ºåˆå§‹åŒ–å¤±è´¥.

*ä»¥ä¸‹ä»£ç ä»…ä¸ºç‰‡æ®µï¼Œå¦‚éœ€è·å–å®Œæ•´ä»£ç ï¼Œ [è¯·ç‚¹å‡»æ­¤å¤„.](https://github.com/m5stack/M5-ProductExampleCodes/tree/master/Module/LORA/Arduino)*

```arduino
#include <M5Stack.h>
#include <M5LoRa.h>

//declaration
String outgoing;                     // outgoing message
byte msgCount = 0;                   // count of outgoing messages
byte localAddress = 0xBB;            // address of this device
byte destination = 0xFF;             // destination to send to

//initialization
M5.begin();
LoRa.setPins();                      // set CS, reset, IRQ pin
LoRa.begin(433E6);                   // initialize ratio at 915 MHz

//send message
void sendMessage(String outgoing) {
  LoRa.beginPacket();                // start packet
  LoRa.write(destination);           // add destination address
  LoRa.write(localAddress);          // add sender address
  LoRa.write(msgCount);              // add message ID
  LoRa.write(outgoing.length());     // add payload length
  LoRa.print(outgoing);              // add payload
  LoRa.endPacket();                  // finish packet and send it
  msgCount++;                        // increment message ID
}

//receive message
void onReceive(int packetSize) {
  if (packetSize == 0) return;       // if there's no packet, return
  int recipient = LoRa.read();       // recipient address
  byte sender = LoRa.read();         // sender address
  byte incomingMsgId = LoRa.read();  // incoming msg ID
  byte incomingLength = LoRa.read(); // incoming msg length

  String incoming = "";

  while (LoRa.available()) {
    incoming += (char)LoRa.read();
  }
}

onReceive(LoRa.parsePacket());
```

<img src="assets/img/product_pics/module/module_example/LORA/example_module_lora_02.png">

## åŸç†å›¾

<img src="assets/img/product_pics/module/lora_sch.png">